!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("vue"),require("../utils/index.js"));else if("function"==typeof define&&define.amd)define(["vue","../utils/index.js"],t);else{var i="object"==typeof exports?t(require("vue"),require("../utils/index.js")):t(e.vue,e["../utils/index.js"]);for(var n in i)("object"==typeof exports?exports:e)[n]=i[n]}}(window,(function(e,t){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=17)}({0:function(t,i){t.exports=e},1:function(e,i){e.exports=t},17:function(e,t,i){"use strict";i.r(t);var n=i(1),r=i(0),o=i.n(r);function u(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=void 0,this.src=void 0,this.defaultImg=void 0,this.status=void 0,this.viewport=void 0,this.el=t.el,this.src=t.src,this.defaultImg=t.defaultImg,this.viewport=t.viewport,this.status="unloaded",this.init()}var t,i,n;return t=e,(i=[{key:"init",value:function(){this.src&&this.render(this.defaultImg)}},{key:"check",value:function(){var e=this.el.getBoundingClientRect(),t=e.top<=this.viewport.h||this.viewport.h>=e.bottom-e.height&&e.bottom>=0,i=e.left<=this.viewport.w||this.viewport.w>=e.right-e.width&&e.right>=0;return!(!t||!i)}},{key:"load",value:function(){this.render(this.src),this.status="loaded"}},{key:"render",value:function(e){this.el.setAttribute("src",e)}}])&&u(t.prototype,i),n&&u(t,n),e}();function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.opt=void 0,this.queue=void 0,this._triggerMonitor=void 0,this.queue=[],this.opt=Object.assign({defaultImg:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},t),this._triggerMonitor=Object(n.throttle)(this.triggerMonitor,400),this.init()}var t,i,r;return t=e,(i=[{key:"init",value:function(){var e=this;Object(n.on)(document,"scroll",this._triggerMonitor.bind(this)),o.a.nextTick((function(){e._triggerMonitor()}))}},{key:"triggerMonitor",value:function(){this.queue.forEach((function(e,t){"unloaded"==e.status&&e.check()&&e.load()}))}},{key:"bind",value:function(t,i){var n=this.opt.defaultImg,r=i.value,o=new s({el:t,src:r,defaultImg:n,viewport:e.viewport});this.queue.push(o)}},{key:"unbind",value:function(e){var t=this.queue.findIndex((function(t){return e.getAttribute("src")===t.src}));this.queue.splice(t,1),this._triggerMonitor()}}])&&a(t.prototype,i),r&&a(t,r),e}();l.viewport={h:window.innerHeight,w:window.innerWidth};var c=l;t.default={install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.directName||"lazy",n=new c;e.directive(i,{bind:n.bind.bind(n),unbind:n.unbind.bind(n)})}}}})}));