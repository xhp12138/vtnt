!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("vue"),require("../mixins/style.js"));else if("function"==typeof define&&define.amd)define(["vue","../mixins/style.js"],e);else{var n="object"==typeof exports?e(require("vue"),require("../mixins/style.js")):e(t.vue,t["../mixins/style.js"]);for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(window,(function(t,e){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=23)}({0:function(e,n){e.exports=t},16:function(t,e,n){},2:function(t,e,n){"use strict";var i=n(0),r=n.n(i);n(4),n(5);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=r.a.extend({name:"vtnt-icon",props:{iconPrefix:{type:String,default:"vtnt-icon"},size:{type:[String,Number]},name:{type:[String]},tag:{type:String,default:"i"}},computed:{iconStyle:function(){return this.size?{fontSize:this.size+"px"}:{}},iconName:function(){return this.name?this.iconPrefix+"-"+this.name:""},isInitialIconPrefix:function(){return"vtnt-icon"===this.iconPrefix}},render:function(){var t,e=arguments[0],n=this.tag;return e(n,{style:this.iconStyle,class:(t={"vtnt-icon__container":!0},o(t,"".concat(this.iconName),!0),o(t,"vtnt-icon__container--default",this.size),o(t,"vtnt-icon__container--font",this.isInitialIconPrefix),o(t,"".concat(this.iconPrefix),!this.isInitialIconPrefix&&this.iconPrefix),t)})}});a.cptName="vtntIcon",e.a=a},23:function(t,e,n){"use strict";n.r(e);var i=n(3),r=n.n(i),o=n(2);n(16);function a(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var s=r.a.extend({components:{"vtnt-icon":o.a},data:function(){return{b:this.b("vtnt-upload")}},props:{beforeUpload:{type:Function},fileList:{type:Array}},model:{prop:"fileList",event:"input"},methods:{readFiles:function(t){var e=this;t.map((function(t,e){return new Promise((function(n,i){var r=new FileReader;r.onload=function(t){n({result:t.target.result,index:e})},r.onerror=function(t){i({result:t,index:e})},r.readAsDataURL(t)}))})).forEach((function(t){t.then((function(t){var n=t.result,i=t.index;e.fileList[i].url=n,e.fileList[i].status="success"})).catch((function(t){}))}))},addLoadingItem:function(t){var e=t.map((function(t){return{url:"",status:"loading"}}));this.$emit("input",[].concat(a(e),a(this.fileList)))},handleChange:function(t){var e=this,n=t.target.files||[],i=Array.prototype.slice.call(n);if(i.length){if(this.beforeUpload)if(!this.beforeUpload(i))return;this.addLoadingItem(i),this.$nextTick((function(){return e.readFiles(i)}))}}},render:function(){var t=arguments[0],e=this.b,n=this.fileList,i=function(n){return t("div",{class:e("__file-mask")},["loading"===n?t("i"):t("vtnt-icon",{attrs:{name:"error"}}),t("span",["loading"===n?"loading...":"上传失败"])])},r=n.map((function(n){return t("div",{class:e("__file-item")},[n.url?t("img",{class:e("__file-img"),attrs:{src:n.url}}):i(n.status)])}));return t("div",{class:e("__wrap")},[t("div",{class:e("__file-list")},[r,t("div",{class:[e("__file-item"),e("__file-item--add")]},[t("vtnt-icon",{attrs:{name:"add"}}),t("input",{class:e("__input"),attrs:{type:"file"},directives:[{name:"bind",value:"$attrs"}],on:{change:this.handleChange}})])])])}});s.cptName="vtntUpload";var u=s;e.default={install:function(t){t.component(u.cptName,u)}}},3:function(t,n){t.exports=e},4:function(t,e,n){},5:function(t,e,n){}})}));